package com.yxm.sso.init;

import java.util.Set;

import javax.servlet.ServletException;
import javax.servlet.http.HttpServlet;

import com.yxm.sso.service.impl.ApplicationServiceImpl;
import com.yxm.sso.util.db.DButil;

/*
 *<p>说明:web项目的启动加载各种环境配置的初始化类型</p>
 *@author:姚旭民
 *@data:2017-8-7 上午9:32:44
 */
public class WebInit extends HttpServlet {
	//启动加载类型
	public void init() throws ServletException {
		//【1】启动的时候，加载数据网站数据到redis里面，后面要做定时刷新和加载
		String sql = "SELECT url FROM application";
		Set set = DButil.getInstance().findBySql(sql, "url");
		ApplicationServiceImpl.saveApplicationIdtoRedis(set);//把数据保存到redis里面
	}
}
